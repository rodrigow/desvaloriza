<!DOCTYPE html>
<html lang="en" ng-app="DesvalorizaApp">
<head>
    <meta charset="UTF-8">
    <title>Desvaloriza</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="assets/javascript/angular-1.6.1/angular.js" type="text/javascript"></script>
    <script src="assets/javascript/app.js" type="text/javascript"></script>
</head>

<body>

<div class="container" ng-controller="desvalorizaController as desvaloriza">
  <h1>Desvaloriza.com</h1>
  <br/>


  <div class="panel panel-danger alert-danger" role="alert" ng-if="desvaloriza.error">
    <div class="panel-heading">Error</div>
    <div class="panel-body">
      <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
      {{desvaloriza.error}}
    </div>
  </div>

  <div class="form-group">
    <label for="types">Tipo:</label>
      <label>
          <input type=radio name="types" ng-model="desvaloriza.type" value="carros" ng-click="desvaloriza.loadMakers();"></input>
          <b>Carros</b>
      </label>
      <label>
          <input type=radio name="types" ng-model="desvaloriza.type" value="motos" ng-click="desvaloriza.loadMakers();"></input>
          <b>Motos</b>
      </label>
      <label>
          <input type=radio name="types" ng-model="desvaloriza.type" value="caminhoes" ng-click="desvaloriza.loadMakers();"></input>
          <b>Caminhoes</b>
      </label>
  </div>

  <div class="form-group">
    <label for="maker">Marca:</label>
    <select id="maker" ng-model="desvaloriza.maker"
      ng-options="maker.nome for maker in desvaloriza.available_makers | orderBy:'nome' track by maker.codigo"
      ng-change="desvaloriza.loadModels()">
        <option value="">Selecione a Marca</option>
    </select>
  </div>

  <div class="form-group">
    <label for="model">Modelo:</label>
    <select id="model" ng-model="desvaloriza.model"
      ng-options="model.nome for model in desvaloriza.available_models | orderBy:'nome' track by model.codigo"
      ng-change="desvaloriza.loadPrices()">
        <option value="">Selecione o Modelo</option>
    </select>
  </div>

  <div class="form-group">
    <canvas class="chart chart-line"
            chart-data="desvaloriza.chart.data"
            chart-labels="desvaloriza.chart.labels"
            chart-options="desvaloriza.chart.options" >
    </canvas>
  </div>

  <!-- TODO create a table with the amounts -->
  <!-- <div class="form-group">
    <p ng-repeat="price in desvaloriza.available_prices | orderBy: '-AnoModelo' ">{{price.modelo}}: {{price.Valor}}</p>
  </div> -->

</div>

<script src="assets/javascript/google.js"></script>
<script src="assets/javascript/Chart.js-2.4.0/Chart.bundle.min.js" type="text/javascript"></script>
<script src="assets/javascript/angular-chart.js-1.1.1/angular-chart.min.js" type="text/javascript"></script>
</body>
</html>
